<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTg3IiBoZWlnaHQ9IjgyIj48cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSJyZ2IoMCwgMCwgMTM5KSIgZmlsbD0ibm9uZSIgZD0iTSA0NyAzOSBjIDAuMDUgMC4zIDIuMyAxMS4yMiAzIDE3IGMgMC42NSA1LjM3IDAuOTggMTYuMjggMSAxNiBjIDAuMDMgLTAuNTYgLTAuMjggLTIxLjUxIDAgLTMyIGMgMC4wNSAtMS42NyAwLjYxIC01LjM0IDEgLTUgYyAyLjQ2IDIuMTMgMTcuMDYgMjEgMjEgMjQgYyAwLjc5IDAuNiAyLjk1IC0zLjE5IDQgLTUgYyAyLjU2IC00LjQyIDUuMDkgLTkuMTYgNyAtMTQgYyAyLjQzIC02LjE2IDQuNjggLTE3LjkyIDYgLTE5IGMgMC43NCAtMC42MSAzLjcxIDYuNTUgNSAxMCBjIDEuNjggNC40OSAyLjE4IDkuNjEgNCAxNCBjIDIuMTIgNS4xMyA1LjYyIDkuODQgOCAxNSBsIDQgMTEiLz48cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSJyZ2IoMCwgMCwgMTM5KSIgZmlsbD0ibm9uZSIgZD0iTSAxIDY1IGMgMC4xNCAtMC4wNyA1LjIyIC0zLjIyIDggLTQgYyA5Ljg4IC0yLjc5IDIwLjU1IC01LjgzIDMxIC03IGMgMTkuMSAtMi4xNSAzOC41MyAtMS40NCA1OCAtMyBjIDUuNzkgLTAuNDYgMTEuMzIgLTIuNDMgMTcgLTMgYyA0LjI4IC0wLjQzIDguNzQgMC4yNCAxMyAwIGMgMS42NyAtMC4wOSA0LjA0IC0xLjQxIDUgLTEgYyAwLjg0IDAuMzYgMS4xMyAyLjk5IDIgNCBjIDAuOTcgMS4xMyAzLjAxIDMuMiA0IDMgYyAxLjU0IC0wLjMxIDQuMjEgLTMuMjEgNiAtNSBjIDEuMTUgLTEuMTUgMi4wNyAtMy44OCAzIC00IGMgMS4wOCAtMC4xMyAzLjMxIDIuMjUgNSAzIGwgNCAxIi8+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0icmdiKDAsIDAsIDEzOSkiIGZpbGw9Im5vbmUiIGQ9Ik0gMTY1IDMwIGMgLTAuMTQgMC4wOSAtNS43NCAzLjE1IC04IDUgYyAtMS4yIDAuOTggLTIuMzkgMi42MyAtMyA0IGMgLTAuNjIgMS40IC0xLjE3IDMuNjcgLTEgNSBjIDAuMTIgMC45NCAxLjE3IDIuNDEgMiAzIGMgMS4yNCAwLjg5IDMuMzYgMS43OCA1IDIgYyAzLjA1IDAuNDEgNy4yNCAwLjY5IDEwIDAgYyAxLjk5IC0wLjUgNC40NyAtMi40NyA2IC00IGMgMS4yNCAtMS4yNCAyLjY0IC0zLjMgMyAtNSBjIDAuODYgLTQuMDkgMi4zNCAtMTAuMjggMSAtMTQgYyAtMi43OCAtNy43MyAtMTUgLTI1IC0xNSAtMjUiLz48cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSJyZ2IoMCwgMCwgMTM5KSIgZmlsbD0ibm9uZSIgZD0iTSAxODYgMzMgbCAxIDEiLz48cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSJyZ2IoMCwgMCwgMTM5KSIgZmlsbD0ibm9uZSIgZD0iTSAxMDkgODEgYyAwLjc5IC0wLjMxIDI5LjkzIC0xMy4xMiA0NSAtMTggYyA3LjI2IC0yLjM1IDIzIC00IDIzIC00Ii8+PC9zdmc+">

<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTE4IiBoZWlnaHQ9IjcwIj48cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSJyZ2IoMCwgMCwgMTM5KSIgZmlsbD0ibm9uZSIgZD0iTSAxIDEyIGMgMCAwLjYgLTAuMjkgMjMuMDMgMCAzNCBjIDAuMDQgMS4zMyAwLjcgNC4xOCAxIDQgYyAwLjU5IC0wLjM1IDMuNDkgLTQuNjQgNCAtNyBjIDEuMDIgLTQuNjkgMS4xNyAtMTAuNzYgMSAtMTYgYyAtMC4xNSAtNC42MyAtMS43NiAtOS42NyAtMiAtMTQgYyAtMC4wNyAtMS4yNiAwLjY2IC00LjMxIDEgLTQgYyAzLjM5IDMuMDQgMTguNDcgMjAuNzIgMjggMzAgYyAyLjUxIDIuNDUgNi4wMyA0LjYxIDkgNiBjIDEuNjcgMC43OCA0LjEyIDEuMTIgNiAxIGMgMy4xNSAtMC4yIDguMTkgLTAuMDIgMTAgLTIgYyA3LjAzIC03LjY4IDE0LjIxIC0yMi44NSAyMiAtMzMgYyAyLjkyIC0zLjgxIDguOTMgLTguODggMTEgLTEwIGMgMC41IC0wLjI3IDEuNjUgMS45NCAyIDMgYyAwLjkgMi43IDEuNTcgNS45MSAyIDkgYyAxLjI2IDkuMDkgMS4yNCAxOC42MyAzIDI3IGMgMC43OCAzLjcyIDIuOTEgNy42MyA1IDExIGMgMy44NCA2LjE4IDEzIDE4IDEzIDE4Ii8+PC9zdmc+">

<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIj48L3N2Zz4=">

<?php 



include_once('global.php');
global $db,$dbF,$functions,$productClass;


$email = 'mudassiridrees@yahoo.com';
$unique =   uniqid();

$setPswrdHash = $email.'-'.$unique;
$setPswrdHash = base64_encode($setPswrdHash);
$password  =  $functions->encode($unique);

// echo $unique.'<br>';
// echo $password.'<br>';
// echo $setPswrdHash;

exit;


##############  GENERATE ACCESS TOKEN FROM REFRESH TOKEN #####################

$client_id = '1000.AGGPITUHTRJX796776SOBEHDYZMA7B';
$secret = '4501c354085ff3bfbf65e112d081eefef0235a1246';

// Zoho Books Refresh Token with Scope of Full Access ( ZohoBooks.fullaccess.all ).
$refresh = '1000.fcd984a2fe5cff258eb683d3303d87c5.eaa78c1e95d3e9558ed50626c0cc252b'; 

$params = array(
	'refresh_token' => $refresh,
	'client_id' => $client_id,
	'client_secret' => $secret,
	'redirect_uri' => 'http://projects.imedia.pk/php/iscent/orderInvoice.php',
	'grant_type' => 'refresh_token'
);

// Using refresh token to generate access token.
$ch = curl_init(); 
curl_setopt($ch, CURLOPT_URL, "https://accounts.zoho.com/oauth/v2/token");
curl_setopt($ch, CURLOPT_POST, count($params));
curl_setopt($ch, CURLOPT_POSTFIELDS,$params);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$results = curl_exec($ch);
curl_close($ch);

$array = json_decode($results,true);

$access_token = $array['access_token']; // Access Token

// Contact fields for testing.
$contact_array = array(
	"contact_name" => 'Test Contact'
);

// Access API to create contact
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://books.zoho.com/api/v3/contacts?organization_id=667162566");
curl_setopt($ch, CURLOPT_HTTPHEADER, array("Authorization: Zoho-oauthtoken {$access_token}","Content-Type: application/x-www-form-urlencoded;charset=UTF-8"));
curl_setopt($ch, CURLOPT_POSTFIELDS,'JSONString='.json_encode($contact_array));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$results2 = curl_exec($ch);
curl_close($ch);

$array2 = json_decode($results2,true);
echo '<pre>'; print_r($array2); echo '</pre>';

##############  GENERATE ACTIVE TOKEN FROM REFRESH TOKEN END #####################

 ?>